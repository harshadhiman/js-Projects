<!doctype html>
<html>
    <head>
        <style>
            body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #a18cd1, #fbc2eb);
            color: #333333;
        }

        .container {
            margin: 50px auto;
            max-width: 600px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px 20px;
        }

        h1 {
            color: #6a1b9a;
            margin-bottom: 20px;
        }

        .time-limit {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        button {
            background-color: #6a1b9a;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #7b1fa2;
            transform: scale(1.05);
        }

        #timer {
            font-size: 22px;
            font-weight: 600;
            margin: 10px 0;
            color: #00bcd4;
        }

        #paragraph {
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: left;
            font-size: 16px;
            line-height: 1.5;
        }

        #usercontent {
            background-color: #f5f5f5;
            width: 95%;
            height: 150px;
            font-size: 16px;
            padding: 10px;
            margin-top: 20px;
            border: 1px solid #6a1b9a;
            border-radius: 8px;
            resize: none;
        }

        .output {
            margin-top: 20px;
        }

        .output p {
            font-size: 18px;
            margin: 8px 0;
        }

        .output span {
            color: #6a1b9a;
            font-weight: bold;
        }
        </style>
    </head>
    <body>
        <div class="container">
        <h1>Typing Speed Tester</h1>
        <div class="time-limit">
            <p>Time: </p>
            <button id="one" onclick="startTest(60)">1 Minute</button>
            <button id="two" onclick="startTest(120)">2 Minute</button>
            <button id="five" onclick="startTest(300)">5 Minute</button>
            <button onclick="location.reload()">Restart</button>
        </div>
        <div>TIMER :<span id="timer"></span></div>
        <div id="paragraph">paragraph</div>
        <textarea id="usercontent" placeholder="Start typing here......" disabled></textarea>
        <div class="output">
            <p>WPM: <span id="wpm"></span></p>
            <p>Accuracy: <span id="accuracy"></span></p>
        </div> 
    </div>


    <script>
        let timer =document.getElementById("timer");
        let paragraphBox=document.getElementById("paragraph");
        let wpm=document.getElementById("wpm");
        let accuracy=document.getElementById("accuracy");
        let usercontent=document.getElementById("usercontent");
        let startTime;
        let countdown;
        let selectedParagraph;
        function startTest(duration)
            {
                usercontent.disabled = false;
                usercontent.value = "";
                usercontent.focus();
                wpm.textContent = "";
                accuracy.textContent = "";
                selectedParagraph = paragraphs[Math.floor(Math.random() * paragraphs.length)];
                paragraphBox.textContent = selectedParagraph;
                let timeLeft = duration;
                timer.textContent = timeLeft + "s";
                timer.style.fontSize = "20px";
                startTime=new Date().getTime();
                clearInterval(countdown);
                let timeleft=duration;
                timer.textContent=timeleft+"s";
                countdown=setInterval(()=>{
                    timeleft--;
                    timer.textContent=timeleft+"s";
                    if(timeleft<=0)
                    {
                        clearInterval(countdown);
                        timer.style.fontSize="40px";
                        timer.textContent="Times Up!"
                        usercontent.disabled=true;
                        calculateResults();
                    }
                },1000);
            };
        function calculateResults() {
            
        let userText = usercontent.value.trim();
        let originalText = selectedParagraph.trim();

        let userWords = userText.split(/\s+/);
        let originalWords = originalText.split(/\s+/);
               // WPM calculation
        let timeTaken = (new Date().getTime() - startTime) / 1000 / 60; // in minutes
        let grossWPM = Math.round(userWords.length / timeTaken);
        if (userWords.length === 0 || timeTaken === 0) {
        wpm.textContent = "0";
        accuracy.textContent = "0%";
        return;
        }
        // Accuracy calculation
        let correctChars = 0;
        let totalChars = userText.length;

        for (let i = 0; i < totalChars && i < originalText.length; i++) {
            if (userText[i] === originalText[i]) correctChars++;
            }

        let charAcc = Math.round((correctChars / totalChars) * 100);
            accuracy.textContent = isNaN(charAcc) ? "0%" : charAcc + "%";
            wpm.textContent = isNaN(grossWPM) ? 0 : grossWPM;
        }

        const paragraphs=[
            "There are a number of reasons you may need a block of text and when you do, a random paragraph can be the perfect solution. If you happen to be a web designer and you need some random text to show in your layout, a random paragraph can be an excellent way to do this. If you're a programmer and you need random text to test the program, using these paragraphs can be the perfect way to do this. Anyone who's in search of realistic text for a project can use one or more of these random paragraphs to fill their need.",
            "For writers looking for a way to get their creative writing juices flowing, using a random paragraph can be a great way to do this. One of the great benefits of this tool is that nobody knows what is going to appear in the paragraph. This can be leveraged in a few different ways to force the writer to use creativity. For example, the random paragraph can be used as the beginning paragraph of a story that the writer must finish. I can also be used as a paragraph somewhere inside a short story, or for a more difficult creative challenge, it can be used as the ending paragraph. In every case, the writer is forced to use creativity to incorporate the random paragraph into the story.",
            "For some writers, it isn't getting the original words on paper that's the challenge, but rewriting the first and second drafts. Using the random paragraph generator can be a good way to get into a rewriting routine before beginning the project. In this case, you take the random paragraph and rewrite it so it retains the same meaning, but does so in a better and more concise way. Beginning the day doing this with a random paragraph can make the rewriting of an article, short story, or chapter of a book much easier than trying to begin directly with it.",
            "When it comes to writers' block, often the most difficult part is simply beginning to put words to paper. One way that can often help is to write about something completely different from what you're having the writers' block about. This is where a random paragraph can be quite helpful. By using this tool you can begin to chip away at the writers' block by simply adding to the random paragraph that appears with the knowledge that it's going to be completely different from any writing you've been doing. Then once you begin to put words on the paper, it should be easier to transition into the writing that needs to get done.",
            "For those who are looking for a difficult writing challenge, the random paragraph generator can provide that as well. Instead of writing about the entire paragraph, take each sentence in the paragraph and make each of those individual sentences the first or last sentence of each paragraph of a short story. Trying this difficult writing challenge should stretch your creativity to the limit."
        ]
    </script>
    </body>
</html>
